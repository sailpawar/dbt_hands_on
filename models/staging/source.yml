# generic source freshness and other tests is included here
version: 2

sources:
  - name: sail
    description: dbt connects to 'sail' schema in 'dbt_workshop_badge2' db to get data from table 'raw_sales_data'
    database: dbt_workshop_badge2
    schema: sail
    tables:
      - name: raw_sales_data
        description: data lands in this table in snowflake through snowpipe and s3 integration
        columns: 
          - name: UNIQUE_FOR_EACH_ROW
        #     description: the primary key for ***
            tests:
              - unique
              - not_null
          - name: TRACK_ID
        #     description: the primary key for ***
            tests:
              - not_null
          - name: YEAR
        #     description: the primary key for ***
            tests:
              - not_null
          - name: TRANSACTION_MONTH
        #     description: the primary key for ***
            tests:
              - not_null
          - name: SALES_TARGET
        #     description: the primary key for ***
            tests:
              - not_null
          - name: SALES_PERSON
        #     description: the primary key for ***
            tests:
              - not_null
          - name: PROFIT_CENTER_MANAGER
        #     description: the primary key for ***
            tests:
              - not_null
          - name: PROFIT_CENTER
        #     description: the primary key for ***
            tests:
              - not_null
          - name: CUSTOMER
        #     description: the primary key for ***
            tests:
              - not_null
          - name: ACTUAL_SALES
        #     description: the primary key for ***
            tests:
              - not_null
        loaded_at_field: cast(loaded_in_sf_at as timestamp)
        freshness:
          warn_after: {count: 24, period: hour}
          # error_after: {count: 24, period: hour}










